global:
  scrape_interval: 15s  # Intervalo global de scraping
  evaluation_interval: 15s  # Intervalo global de evaluaci√≥n de reglas

scrape_configs:
  - job_name: 'kubernetes-nodes'
    kubernetes_sd_configs:
      - role: node
    relabel_configs:
      - action: labelmap
        regex: __meta_kubernetes_node_label_(.+)

  - job_name: 'kubernetes-pods'
    kubernetes_sd_configs:
      - role: pod
    relabel_configs:
      - action: labelmap
        regex: __meta_kubernetes_pod_label_(.+)

  - job_name: 'kubernetes-namespaces'
    kubernetes_sd_configs:
      - role: namespace
    relabel_configs:
      - action: labelmap
        regex: __meta_kubernetes_namespace_label_(.+)

  - job_name: 'kubernetes-service-endpoints'
    kubernetes_sd_configs:
      - role: endpoints
    relabel_configs:
      - action: labelmap
        regex: __meta_kubernetes_service_label_(.+)
